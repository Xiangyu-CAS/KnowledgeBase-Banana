# 🍌 KnowledgeBase Banana
借助知识库（KnowledgeBase）和上下文工程（Context Engineering），让你的Banana生成效果更强大！
- 基础视觉知识库：人物角色图片、场景图片等视觉参考 

痛点
- 文本难以表达复杂的视觉需求，导致生成结果与预期不符。
- AI漫画/漫剧需要很强的角色一致性和场景一致性
- 提供参考图能一定程度缓解，但效果足够好吗？

## TODO
- [ ] 自动化建立视觉知识库：
  - [ ] 从视频中提取关键帧加入知识库
  - [ ] 自动标注关键帧内容，并人工修正

- [ ] 视频理解：更好构建分镜

## ✨ 核心特性

- **📂 知识库**：内置可扩展的视觉知识库，支持用户自定义添加角色或物体的图片及描述。


## 🚀 快速启动

### 1. 获取 API Key
由于项目使用 `gemini-3-pro-image-preview` 模型，你需要从 [Google AI Studio](https://aistudio.google.com/) 获取一个有效的 API Key。
*注：该模型通常需要关联已启用计费的 GCP 项目。*

### 2. 环境准备
确保你的本地环境已安装 [Node.js](https://nodejs.org/) (建议 v18+)。

### 3. 配置环境变量
复制 `.env.example` 为 `.env`，并填写你的 API Key：
```bash
cp .env.example .env
```
然后在 `.env` 中设置：
```bash
GEMINI_API_KEY=你的_API_Key
```

### 4. 安装依赖
在项目根目录下运行：
```bash
npm install
```
### 5. 启动项目
```bash
npm run dev
```

## 💡 使用技巧

- **提及人物**：在输入框输入 `@` 字符，会弹出候选列表。选择人物后，发送的消息会自动携带该人物的视觉参考图，这对于让 AI 绘制特定角色非常有用。
- **图像生成**：直接要求 AI “画一张...” 或 “生成...” 即可触发图像输出逻辑。
- **查看 Trace**：在 AI 回复下方点击 “查看 JIT 知识注入详情”，可以实时查看系统注入了哪些底层的 Base64 数据负载，方便调试。
